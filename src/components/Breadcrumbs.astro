---
type BreadcrumbItem = {
	label: string;
	href?: string;
};

type Props = {
	items: BreadcrumbItem[];
};

const { items } = Astro.props as Props;
const lastIndex = Array.isArray(items) ? items.length - 1 : -1;
---

{
	lastIndex >= 0 ? (
		<nav class="breadcrumbs" aria-label="Breadcrumbs">
			<ol class="breadcrumbs__list">
				{items.map((item, index) => {
					const isLast = index === lastIndex;
					return (
						<li class="breadcrumbs__item">
							{isLast ? (
								<span aria-current="page">{item.label}</span>
							) : item.href ? (
								<a href={item.href}>{item.label}</a>
							) : (
								<span>{item.label}</span>
							)}
						</li>
					);
				})}
			</ol>
		</nav>
	) : null
}

